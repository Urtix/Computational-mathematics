# Библиотека OpenMP
Давайте рассмотрим книгу В. П. Гергеля “Высокопроизводительные вычисления для многоядерных многопроцессорных систем” (2010). В главе 11 "Решение дифференциальных уравнений в частных производных", описывающей проблему численного решения задачи Дирихле для уравнения Пуассона, содержится алгоритм 11.6 (Блочный подход к методу волновой обработки данных) её решения, который может быть эффективно распараллелен при помощи OpenMP.

В первой части задания вам следует просто разобраться в этом алгоритме и реализовать его. Обратите внимание, что он возникает итерационно. Например, алгоритм 11.2 является корректным, но распараллеливание приводит к замедлению в 25 раз вместо ускорения.

Вторая часть задания — провести численный эксперимент, исследующий эффективность (или неэффективность) параллельной версии. Модельные краевые задачи необходимо выбрать самостоятельно, исходя из того, что вы хотели бы теми или иными экспериментами продемонстрировать. Это наиболее сложная часть задания

# Эксперимент

2

3


5

Вычислительная машина: ОС Ubuntu 20.04.4, OpenMP версии 4.5, процессор 11th Gen Intel(R) Core(TM) i3-1115G4 @ 3.00GHz, максимальное число потоков: 4.

Эксперимент проводился с нескольким числом сеток с разными размерами:

$N$ = [100, 300, 500, 1000, 3000]

Также сравнивались изменения зависящие от числа потоков:

$Threads$ = [1, 4]

Проведем вычисления для 

$ u(x,y) = 10 \cdot x^3 + 20 \cdot y^3 $

$f(x,y) = 60 \cdot x + 120 \cdot y^2 $

Результат вычислений:

    СКРИН

Попробуем изменить значение степени и отследить, на что это повлияет.

1)  $u(x,y) = 10 \cdot x^4 + 20 \cdot y^4 $

    $f(x,y) = 120 \cdot x + 240 \cdot y^2 $

2)  $u(x,y) = 10 \cdot x^5 + 20 \cdot y^5 $

    $f(x,y) = 200 \cdot x^3 + 400 \cdot y^3 $

3)  $u(x,y) = 10 \cdot x^{50} + 20 \cdot y^{50} $

    $f(x,y) = 24500 \cdot x^{48} + 49000 \cdot y^{48} $

Это дало следующие результаты

    СКРИН

Попробуем изменить значение констант и отследить, на что это повлияет.

1)  $u(x,y) = 100 \cdot x^3 + 200 \cdot y^3 $

    $f(x,y) = 600 \cdot x + 1200 \cdot y $

1)  $u(x,y) = 1000 \cdot x^3 + 2000 \cdot y^3 $

    $f(x,y) = 6000 \cdot x + 12000 \cdot y $

Результат:

    СКРИН

Можно заметить что количество итераций, а с этим и время выполнения сильно увеличивается с увеличением константы, а с изменением значений степени наоборот уменьшаеется, но не значительно.


Выберем функцию случайным образом, которая будет включать в себя различные степени и константы.

$u(x,y) = 1000 \cdot x^3 \cdot y - 2000 \cdot y^4 + 500 \cdot y^3 + x^2 \cdot y^3 - 700 \cdot x + 250 \cdot y$

$f(x,y) = 6000 \cdot x \cdot y + 2 \cdot y^3 + 6 \cdot x^2 \cdot y - 24000 \cdot y^2 + 3000 \cdot y$

Были получены следующие результаты: 

![alt text](Result/res_table.png)